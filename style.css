:root{--bg:#000;--p:#fff;--pri:#4f46e5;--txt:#1e293b;--sc:1;--tfs:1.1rem;--gl:rgba(79,70,229,0.08);--bd:rgba(0,0,0,0.1)}
body.dark{--bg:#000;--p:#000;--pri:#6366f1;--txt:#f1f5f9;--gl:rgba(255,255,255,0.05);--bd:rgba(255,255,255,0.2)}
body{font-family:system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--txt);margin:0;min-height:100dvh;display:flex;justify-content:center;align-items:safe center;padding:10px;box-sizing:border-box;overflow:hidden}
.m{position:fixed;inset:0;background:rgba(0,0,0,0.7);display:none;justify-content:center;align-items:safe center;z-index:100;backdrop-filter:blur(4px);padding:10px;overflow:auto}
.m.active{display:flex}.c{background:var(--p);padding:20px;border-radius:12px;width:100%;max-width:1000px;border:1px solid var(--bd);box-shadow:0 20px 40px rgba(0,0,0,0.4);transform:scale(var(--sc));transform-origin:top center;margin:auto;position:relative}
.cb{display:flex;gap:4px;justify-content:flex-end;margin-bottom:10px}.cb button{padding:3px 6px;font-size:0.65rem;background:var(--gl);color:inherit;border:1px solid var(--bd);cursor:pointer;border-radius:4px}
.nav-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.ls{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:12px}.sc{background:var(--gl);border:1px solid var(--bd);padding:8px;border-radius:8px;text-align:center}
.sv{font-weight:800;font-size:1rem;display:block;color:var(--pri)}.sl{font-size:0.55rem;opacity:0.8;text-transform:uppercase;font-weight:bold}
.g{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;font-size:0.8rem}.f-col{display:flex;flex-direction:column;gap:4px}
.cg{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:12px 0;padding:10px;background:var(--gl);border-radius:10px;border:1px solid var(--bd)}
.chk-row{display:flex;align-items:center;gap:6px;cursor:pointer;user-select:none;font-size:0.8rem}
select,textarea,input:not([type="checkbox"]){width:100%;padding:8px;border:1px solid var(--bd);border-radius:6px;background:var(--p);color:inherit;outline:none;font-size:0.85rem;box-sizing:border-box}
.ta,#ia,#dv{font-size:var(--tfs);line-height:1.5;white-space:pre-wrap;border:1px solid var(--bd);padding:12px;margin:8px 0;background:var(--gl);border-radius:10px;scrollbar-width:thin}
.ta{height:25vh;overflow-y:auto}.as-on{overflow-y:hidden!important}#ia{height:10vh;resize:none}#dv{height:12vh;overflow-y:auto}.cor{color:#10b981}.inc{color:#ef4444;text-decoration:underline;font-weight:bold}
#rc{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px;margin-bottom:12px;max-height:45vh;overflow-y:auto;padding-right:5px;scrollbar-width:thin}
.sg{padding:10px;background:var(--gl);border-radius:10px;border:1px solid var(--bd);display:flex;flex-direction:column;gap:1px}
.rl{display:flex;justify-content:space-between;padding:2px 0;font-size:0.75rem;border-bottom:1px solid var(--bd)}
.mh{font-weight:700;color:var(--pri);font-size:0.8rem;margin-bottom:4px;line-height:1.2}.ms{font-size:1.1rem;font-weight:900;margin:4px 0;color:var(--txt)}
.bp{background:var(--pri);color:#fff;border:none;padding:12px;border-radius:8px;cursor:pointer;width:100%;font-weight:700;margin-top:8px}
.bs{background:var(--p);color:inherit;border:1px solid var(--bd);padding:6px 10px;border-radius:6px;cursor:pointer;font-size:0.75rem}
.back-btn{background:none;border:none;color:inherit;cursor:pointer;font-size:1.4rem;padding:0 8px;display:flex;align-items:center}
#confirm{z-index:200}